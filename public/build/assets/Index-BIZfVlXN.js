import{r as l,j as e,L as n,$ as b}from"./app-Cm-vnxqu.js";import{A as x}from"./index-BlxMtMEm.js";import{u as i,l as m}from"./index-BwnuwhEN.js";import{A as h}from"./AuthenticatedLayoutAdmin-RPw8dhVz.js";import{B as a}from"./button-BeM6po39.js";import"./useAppUrl-B3kQn_30.js";import"./breadcrumb-BTKByPAL.js";import"./index-tB8RBw23.js";import"./input-DZPiFYEW.js";const S=({success:s})=>{const[p,j]=l.useState(!!s);l.useEffect(()=>{s&&window.location.reload()},[s]);const{data:r,isLoading:f,error:k}=i(["prelim_tally"],"tally_prelim");console.log(r);const o=l.useRef(),c=m.useReactToPrint({contentRef:o});return e.jsxs(h,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Tally Preliminary"}),children:[e.jsx(n,{title:"Preliminary"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-end m-2",children:e.jsxs(a,{onClick:()=>c(),children:[e.jsx(x,{}),"Print"]})}),e.jsx("div",{ref:o,className:"py-2 px-4 bg-white ",children:e.jsx("div",{children:e.jsxs("table",{className:"border-collapse border border-black bg-[#ffff99] w-full text-center mb-4",children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsxs("th",{colSpan:12,className:"pt-3 pb-2 text-center text-yellow-200 font-light bg-gray-800 border-b border-black font-lobster",children:[e.jsx("span",{className:"text-4xl",children:"Queen San Vicente 2025"}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"text-2xl ",children:"Grand Coronation Night"})]})})}),e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{colSpan:12,className:"px-4 pt-4 text-center text-black text-xl font-light bg-white border-b border-black",children:"Preliminary"})})}),e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#ffff99]",children:[e.jsx("th",{className:"px-4 py-2 text-sm text-black  font-bold border-b border-black",children:"Candidate No."}),e.jsx("th",{className:"px-4 py-2 text-sm text-black  font-bold border-b border-black",children:"Candidate Name"}),e.jsx("th",{className:"px-4 py-2 text-sm text-black  font-bold border-b border-black",children:"Total"}),e.jsx("th",{className:"px-4 py-2 text-sm text-black  font-bold border-b border-black",children:"Rank"}),e.jsx("th",{className:"px-4 py-2 text-sm text-black  font-bold border-b border-black",children:"Top 5"}),e.jsx("th",{className:"px-4 py-2 text-sm text-black  font-bold border-b border-black",children:"Actions"})]})}),e.jsx("tbody",{children:r==null?void 0:r.candidates.map((t,d)=>e.jsxs("tr",{className:`border-b border-black last:border-b-0 ${t.rank<=5?"bg-blue-300":""}`,children:[e.jsx("td",{className:"px-4 py-2 text-sm text-black font-semibold border-b border-black",children:t.candidate_number}),e.jsx("td",{className:"px-4 py-2 text-sm text-black font-semibold border-b border-black",children:t.candidate_name}),e.jsx("td",{className:"px-4 py-2 text-sm text-black  font-semibold border-b border-black",children:t.overall_total_score.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-sm text-black  font-semibold border-b border-black",children:d+1}),e.jsx("td",{className:"px-4 py-2 text-sm text-black  font-semibold border-b border-black",children:t.top_five=="no"?e.jsx("span",{className:"px-4 py-1 bg-red-500 rounded-xl text-white",children:"No"}):e.jsx("span",{className:"px-4 py-1 bg-green-500 rounded-xl text-white",children:"Yes"})}),e.jsx("th",{className:"px-4 py-2 text-sm text-black font-bold border-b border-black",children:d<5&&e.jsxs(e.Fragment,{children:[e.jsx(b,{href:route("admin.settopfive",t.candidate_id),children:e.jsx(a,{className:"bg-green-600 hover:bg-green-800",children:"Set as Top 5"})}),e.jsx(b,{href:route("admin.settono",t.candidate_id),className:"m-3",children:e.jsx(a,{className:"bg-red-600 hover:bg-red-800",children:"Set to No"})})]})})]},t.candidate_id))})]})})})]})]})};export{S as default};
