import{j as e,r as j,b as S,L as T}from"./app-CnKHO2QR.js";import{G as R,A as Q}from"./AuthenticatedLayoutAdmin-X37AZjT2.js";import{a as q,b as B,u as _,c as $}from"./index-Cm4hJl_c.js";import{c as u,b as G,B as w}from"./button-BYrSFLTN.js";import{c as U}from"./index-CKM4eO0l.js";import{C as H,a as K,D as O,b as V,c as F,d as J,e as W,f as y}from"./breadcrumb-Zs4QOK8S.js";import{u as X}from"./useAppUrl-B2RI8WlN.js";import{T as Y,a as Z,b as v,c as ee,d as se,e as f}from"./table-rn8FtYyW.js";import{I as ae}from"./input-DHANutAF.js";import{C as ne}from"./ClipLoader-DChxTPeD.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],te=U("ChevronLeft",re);function ie(s){return R({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(s)}const C=({className:s,...n})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:u("mx-auto flex w-full justify-center",s),...n});C.displayName="Pagination";const D=j.forwardRef(({className:s,...n},r)=>e.jsx("ul",{ref:r,className:u("flex flex-row items-center gap-1",s),...n}));D.displayName="PaginationContent";const m=j.forwardRef(({className:s,...n},r)=>e.jsx("li",{ref:r,className:u("",s),...n}));m.displayName="PaginationItem";const x=({className:s,isActive:n,size:r="icon",...i})=>e.jsx("a",{"aria-current":n?"page":void 0,className:u(G({variant:n?"outline":"ghost",size:r}),s),...i});x.displayName="PaginationLink";const L=({className:s,...n})=>e.jsxs(x,{"aria-label":"Go to previous page",size:"default",className:u("gap-1 pl-2.5",s),...n,children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});L.displayName="PaginationPrevious";const k=({className:s,...n})=>e.jsxs(x,{"aria-label":"Go to next page",size:"default",className:u("gap-1 pr-2.5",s),...n,children:[e.jsx("span",{children:"Next"}),e.jsx(H,{className:"h-4 w-4"})]});k.displayName="PaginationNext";const oe=({currentPage:s,setCurrentPage:n,totalPages:r})=>{if(r<=1)return null;const i=[],d=2;for(let a=1;a<=r;a++)a===1||a===r||a>=s-d&&a<=s+d?i.push(a):i[i.length-1]!=="..."&&i.push("...");return e.jsx(C,{children:e.jsxs(D,{children:[e.jsx(m,{children:e.jsx(x,{href:"#",onClick:a=>{a.preventDefault(),n(1)},disabled:s===1,children:e.jsx(q,{})})}),e.jsx(m,{children:e.jsx(L,{href:"#",onClick:a=>{a.preventDefault(),n(l=>Math.max(l-1,1))},disabled:s===1})}),i.map((a,l)=>e.jsx(m,{children:a==="..."?e.jsx("span",{className:"px-2",children:"..."}):e.jsx(x,{href:"#",isActive:a===s,onClick:c=>{c.preventDefault(),n(a)},children:a})},l)),e.jsx(m,{children:e.jsx(k,{href:"#",onClick:a=>{a.preventDefault(),n(l=>Math.min(l+1,r))},disabled:s===r})}),e.jsx(m,{children:e.jsx(x,{href:"#",onClick:a=>{a.preventDefault(),n(r)},disabled:s===r,children:e.jsx(B,{})})})]})})},le=({queryKey:s,endpoint:n,queryParams:r={},options:i={}})=>{const d=X(),[a,l]=j.useState(""),[c,b]=j.useState(1),[h,g]=j.useState({column:"",direction:"asc"}),N=async({queryKey:A})=>{const[ce,E,I,M,P]=A;return(await S.get(`${d}/api/${n}`,{params:{page:E,...r,search:I,sortColumn:M,sortDirection:P}})).data},{data:o,error:t,isLoading:p,refetch:z}=_({queryKey:[s,c,a,h.column,h.direction],queryFn:N,keepPreviousData:!0,...i});return{data:o,error:t,isLoading:p,refetch:z,searchQuery:a,setSearchQuery:l,currentPage:c,setCurrentPage:b,sortConfig:h,setSortConfig:g,totalPages:(o==null?void 0:o.last_page)??1,totalEntries:(o==null?void 0:o.total)??0}},ye=()=>{var o;const{data:s,isLoading:n,error:r,searchQuery:i,setSearchQuery:d,currentPage:a,setCurrentPage:l,sortConfig:c,setSortConfig:b,totalPages:h,totalEntries:g}=le({queryKey:"user_paginate",endpoint:"users"});if(r)return e.jsx("p",{children:"Error loading customers"});const N=[{key:"name",label:"UserName"},{key:"email",label:"Email"},{key:"",label:"Action"}];return console.log(s),e.jsxs(Q,{header:e.jsx("h6",{className:"text-md font-semibold leading-tight text-gray-800",children:"Employees"}),children:[e.jsx(T,{title:"Employees"}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 mt-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("div",{className:"flex w-full max-w-md",children:e.jsx(ae,{type:"text",placeholder:"Search by lastname or employee no...",value:i,onChange:t=>d(t.target.value),className:"w-full p-2 border rounded-md"})}),e.jsxs(w,{className:"ml-4 ",children:[e.jsx($,{}),"Add Employee"]})," "]}),e.jsxs(Y,{children:[e.jsx(Z,{children:e.jsx(v,{className:"border-2 ",children:N.map(({key:t,label:p})=>e.jsx(ee,{className:"cursor-pointer border-2",onClick:()=>b({column:t,direction:c.column===t&&c.direction==="asc"?"desc":"asc"}),children:e.jsxs("span",{className:`flex items-center gap-2 ${c.column===t?"text-blue-600 font-semibold":"text-gray-700"}`,children:[e.jsx("span",{className:"text-md font-bold",children:p}),e.jsx(K,{className:"size-4",color:c.column===t?"#2563eb":"currentColor"})]})},t))})}),e.jsxs(se,{children:[n&&e.jsx(v,{children:e.jsx(f,{colSpan:"5",children:e.jsxs("span",{className:"flex flex-col justify-center items-center py-4 text-green-800",children:["fetching data...",e.jsx(ne,{color:"#16a34a",size:42})]})})}),(o=s==null?void 0:s.data)==null?void 0:o.map((t,p)=>e.jsxs(v,{className:"border-2",children:[e.jsx(f,{className:"border-2",children:t.name}),e.jsx(f,{className:"border-2",children:t.email}),e.jsx(f,{className:"border-2 ",children:e.jsxs(O,{children:[e.jsx(V,{children:e.jsx(w,{variant:"outline",size:"icon",children:e.jsx(ie,{className:"size-5"})})}),e.jsxs(F,{children:[e.jsx(J,{children:"Action"}),e.jsx(W,{}),e.jsx(y,{onClick:()=>alert(`ID: ${employee.id}`),className:"hover:bg-gray-200 cursor-pointer",children:"View"}),e.jsx(y,{className:"hover:bg-gray-200 cursor-pointer",children:"Edit"}),e.jsx(y,{className:"hover:bg-gray-200 cursor-pointer",children:"Delete"})]})]})})]},p))]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:[" ",`${g} total entries`]}),e.jsx(oe,{currentPage:a,setCurrentPage:l,totalPages:h})]})]})]})};export{ye as default};
